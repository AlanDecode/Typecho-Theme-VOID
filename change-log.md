# Change log | 更新日志

**🍰 2020-07-04 Version 3.5.1**

* 修复：iframe 尺寸错误（#42）
* 修复：归档页面显示未发布的文章（#45）

注意，3.5.1 版本主题依赖 1.20 及以上版本插件，请先禁用原插件，上传新版插件后重新启用。

**🍰 2020-05-01 Version 3.5.0**

* 新增：[高级设置]图片懒加载渐变（需要 CDN 支持）
* 新增：JSON-LD 结构化数据支持
* 新增：重新设计的 404 页面
* 新增：[高级设置]站点标题设置自定义字体
* 优化：Bilibili 播放器自适应
* 优化：图题不再影响灯箱展开
* 调整：默认西文字体替换为 OpenSans
* 调整：简化头图设置
* 修复：某些情况下懒加载可能不触发的问题
* 修复：懒加载导致归档页面错乱
* 修复：Safari 平滑滚动无法打断, thank @Reedo0910
* 修复：[#32](https://github.com/AlanDecode/Typecho-Theme-VOID/issues/32)
* 修复：[#34](https://github.com/AlanDecode/Typecho-Theme-VOID/issues/34)
* 移除：Microdata
* 其它细节优化

注意，3.5.0 版本主题依赖 1.20 及以上版本插件，请先禁用原插件，上传新版插件后重新启用。

**🍰 2019-10-26 Version 3.4.0**

* 新增：为图片获取基础信息，详见[关于 VOID 主题自动获取图片基础信息](https://blog.imalan.cn/archives/void-fetch-img-basic-info/)
* 新增：新的平滑滚动效果
* 优化：通过 iframe 嵌入 Bilibili 播放器时可自适应宽高
* 优化：图片懒加载功能
* 优化：夜间模式下 APlayer 播放器样式
* 优化：内容解析性能
* 调整：替换默认西文字体为 Droid Serif
* 修复：PJAX 跳转后首页图片懒加载可能失效的问题
* 修复：当文章中存在相同的标题时无法点击目录跳转的问题
* 修复：修复一个可能导致插件启用失败的问题
* 修复：不同时区导致建站时间计算不准确的问题
* 修复：懒加载与 Google Ads 冲突的问题
* 修复：不正确的头图高度
* 修复：未启用插件时投票功能未被禁用的问题
* 移除：站点背景图设置

注意，3.4.0 版本主题依赖 1.20 及以上版本插件，请先禁用原插件，上传新版插件后重新启用。

**🍰 2019-09-13 Version 3.3.0**

* 新增：[配合插件]评论投票
* 新增：[配合插件]访客互动展示（后台 - 管理 - 互动）
* 新增：[配合插件]评论归属地展示（后台 - 管理 - 评论）
* 新增：[高级设置]代码块使用 [Fira Code](https://github.com/tonsky/FiraCode) 字体，支持 ligature 特性
* 新增：后台更新提示
* 优化：图片懒加载。现在首页、友链均支持懒加载
* 优化：某些屏幕下排版效果
* 调整：代码高亮库更换为 Prism.js
* 调整：提示块样式
* 调整：现在关闭评论时可显示历史评论
* 修复：在一定宽度下照片集导致页面浮动
* 移除：RSS 原图保护
* 移除：前台评论管理
* 其他细节优化

注意，3.3.0 版本主题依赖 1.10 及以上版本插件，请先禁用原插件，上传新版插件后重新启用。

**🍰 2019-08-21 Version 3.2.0**

* 新增：首页可设置为单栏模式
* 新增：在受支持的浏览器中导航栏采用毛玻璃效果
* 新增：[高级设置]分别针对移动端与桌面端设置导航栏模式
* 新增：[高级设置]是否解析图题
* 优化：添加 apple-mobile-web-app 支持
* 优化：图片灯箱中可显示图题
* 优化：友链页面排版
* 修复：分类页面下文章列表样式与设置不一致
* 修复：错误的结构化数据
* 修复：图片灯箱开关导致页面抖动
* 修复：修复错误的 `<br>` 标签高度
* 其它细节调整

注意，3.2.0 版本主题依赖 1.00 及以上版本插件。若之前已经成功安装启用插件（1.00 版）则不用处理，若之前安装插件出现问题可以尝试使用新版（1.01）插件。

**🍰 2019-07-24 Version 3.1.1**

* 新增：一些动画效果
* 优化：移除几项外部调用，以防拖慢页面加载速度
* 优化：鼠标选中区域可读性
* 修复：安卓设备上点击出现蓝色蒙版
* 修复：页脚遮挡表情面板
* 修复：移动设备上设置面板导致链接无法点击
* 其它细节调整与优化

注意，3.1.1 版本主题依赖 1.00 及以上版本插件。若之前已经成功安装启用插件（1.00 版）则不用处理，若之前安装插件出现问题可以尝试使用新版（1.01）插件。

**🍰 2019-07-05 Version 3.1.0**

* 新增：站点设置面板，包括日间/夜间模式，字号，字体
* 新增：前台登陆，兼容 PJAX
* 新增：前台管理评论，支持删除、待审核、标为垃圾
* 新增：优化的头图展示模式设置，支持全局设置与针对文章单独设置
* 新增：可设置导航栏不固定在顶部
* 优化：JS 加载顺序
* 优化：跳转后的页面位置
* 优化：响应式瀑布流，现在可以放心地加入图像等动态加载的元素
* 优化：APlayer 样式适配夜间模式
* 优化：默认头图高度
* 修复：小尺寸主图宽度不足
* 其它优化与修复

高级设置：

* 新增：默认文章字号设置
* 新增：站点背景图，横竖屏可单独设置
* 新增：站点背景图遮罩颜色，日间夜间模式可单独设置
* 新增：自动将背景图转为灰度模式
* 新增：自定义的外部链接，显示在站点设置面板中。也可以嵌入 Javascript 代码。

注意，3.1.0 版本主题依赖 1.00 及以上版本插件。若之前已经成功安装启用插件（1.00 版）则不用处理，若之前安装插件出现问题可以尝试使用新版（1.01）插件。

**🎉 2019-06-20 Version 3.0.0**

3.0.0 版本是 VOID 主题的下一站，包含诸多改变与修复，包括：

* 新增：全新设计的瀑布流风格首页
* 新增：带标签云的新归档页
* 调整：现在可单独设置首页标题与小标题
* 调整：文章页不再使用默认头图
* 调整：当设置标题不显示在头图中时，头图转而显示在文中
* 调整：取消夜间模式下图片暗色滤镜
* 调整：夜间模式改为固定时间段
* 调整：去除文章中图片高度限制
* 优化：夜间模式效果
* 优化：导航栏效果
* 优化：无头图时首页标题效果
* 优化：图集宽度自适应
* 优化：导航栏在各种情况下的表现
* 修复：目录遮挡标题
* 修复：行号设置不生效
* 修复：图集宽度问题
* 修复：自动连字符导致数学公式渲染错误
* 移除：页脚最近评论、一言
* 其它细节调整与优化

高级设置：

* 添加：`darkModeTime`，设置夜间模式时间段
* 移除：`accurateDarkMode`，现采用固定时间段
* 移除：`showRecentGuest`，不再支持显示最近访客

注意，3.0.0 版本主题依赖 1.00 及以上版本插件。若之前已经成功安装启用插件（1.00 版）则不用处理，若之前安装插件出现问题可以尝试使用新版（1.01）插件。

**2019-05-26 Version 2.3.2**

* 新的文章版式：Landscape，适合公告、摘录
* 修复 RSS 中图片输出的问题
* 适配 [Mailer](https://github.com/AlanDecode/Typecho-Plugin-Mailer) 插件
* 更换一言类型
* 优化与修复一些小问题

高级设置：

* `rssPicProtect`：RSS 原图保护，启用后 RSS 输出的内容中图片会被替换为禁止符
* `macStyleCodeBlock`：是否启用 Mac 风格代码块
* `lineNumbers`：是否启用代码行号
* `lineNumbersOnMobile`：是否在移动端启用代码行号

注意，2.3.2 版本主题依赖 1.00 及以上版本插件。若之前已经成功安装启用插件（1.00 版）则不用处理，若之前安装插件出现问题可以尝试使用新版（1.01）插件。

**2019-05-11 Version 2.3.1**

* 优化文章目录树
* 调整文章排版，西文自动添加 hyphen
* 调整文章字体搭配
* 章节复制按钮默认隐藏
* 增加浅色代码块样式，日间主题为浅色代码块风格
* 返回顶部按钮（小屏幕隐藏）
* 其它修复与优化

高级设置：

* `largePhotoSet`：是否启用更宽的照片集（超出单栏宽度）

注意，2.3.1 版本主题依赖 1.00 及以上版本插件。若之前已经成功安装启用插件（1.00 版）则不用处理，若之前安装插件出现问题可以尝试使用新版（1.01）插件。

**2019-05-04 Version 2.3**

* 增加复制章节链接功能（支持二至五级标题）
* 代码高亮库修改回 HighlightJS
* 新的 Mac 风格代码高亮样式
* 重新设计文章目录树
* 优化 Service Worker 功能
* 调整多处细节样式

配套插件更新至 1.01 版：

* 修正 SQLite 数据库可能无法启用插件的问题

注意，2.3 版本主题依赖 1.00 及以上版本插件。若之前已经成功安装启用插件（1.00 版）则不用处理，若之前安装插件出现问题可以尝试使用新版（1.01）插件。

**2019-04-28 Version 2.2**

* **增加了主题配套插件**
* PJAX 结束后的小动画回归
* 西文衬线体更换为 Droid Serif
* 优化信息提示框位置
* 修复新浪图床爆炸导致的问题
* 修复英文字数统计的问题
* 其它小型优化

❗ 注意！从 2.2 版本起，主题部分功能需要配套插件支持，例如文章点赞、浏览量统计、字数统计等。**请卸载**原来的 Likes、TePostViews 插件，否则数据会出现错误！TePostViews 插件卸载前请设置为**卸载后保留数据**，以防丢失浏览数据。

**2019-04-21 Version 2.1.2**

* 优化夜间模式提醒
* 优化字体等细节
* 使用 Prism.js 替换 Highlight.js
* 调整脚本加载顺序，缩短白屏
* 消灭了一些臭虫

高级设置：

* 是否在底部显示最近访客

**2019-04-08 Version 2.1.1**

* 默认使用时区计算夜间模式切换时间，不需要位置权限。之前的方式可在高级设置中启用
* 后台「文字区域西文字符使用衬线体」设置项修改为「在文字区域使用思源宋体」，由 Google 字体驱动
* 调整文字样式与主题颜色
* 修改后台 Service Worker 相关设置
* 修复小屏幕下 Typehco 后台编辑器工具栏按钮位置错乱的问题
* 修复编辑界面插入图集与表情后页面位置错误的问题
* 修复 QQ 分享时图片抓取错误的问题
* 移除 PJAX 完成后的滚动动画

**2019-04-02 Version 2.1**

* 自动模式下可根据地理位置计算日出日落时间并切换夜间模式。（需要用户允许访问位置，若不允许则默认 21:00 至 07:00 之间为夜间模式）
* macOS 10.14.4 及以上操作系统支持跟随系统深色模式
* 调整首页文章列表样式，取消封面图长宽比例限制
* 代码块支持行号
* 增加打赏二维码设置
* 文章字数缓存至数据库，提升性能
* 修复了时区导致的文章发布时间显示错误
* 当文章设定了摘要时首页不再从文章中截取摘要

**2019-03-26 Version 2.0.1**

* 修复夜间模式自动切换的 bug
* 开启夜间模式时显示提示
* 高级设置增加更多导航栏模式设置
* 修改背景配色
* 一切其它细小的优化与修复

**2019-03-18 Version 2.0**

🎉 MAKE VOID GREAT AGAIN!

2.0 是一次删繁就简、回归本质的更新。我在这个版本中对代码进行了精简，移除了许多实用性不足的功能。同时对已有的功能、样式进行了细致的优化，只为了能够更舒心地写作与阅读。

* 添加了夜间模式，支持自动切换
* 添加导航栏颜色模式设置（暗色、透明色）
* 导航栏可随滚动显隐
* 优化了头图设置逻辑
* 优化了摘要样式
* 优化了大量细节
* 消灭了大量臭虫

**移除**了以下特性：

* 卡片版首页
* 首页加载更多与无限滚动
* 提示语与欢迎语
* 导航栏位置设置
* 强制首页无大图

**2019-03-14 Version 1.6.4**

* 可设置是否固定导航栏
* 自定义下拉栏中链接可设置 target 属性
* 登录时编辑按钮位置移动
* 优化字体显示
* 首页风格设置移动至主题设置
* 调整整体色调
* 代码块更改为暗色
* 消灭臭虫

**2019-03-08 Version 1.6.3**

* 现在默认是简版首页了，卡片版可在高级设置中找回
* 默认关闭 Service Woker，可在设置中打开
* 内容区域西文字符可使用衬线体（Droid Serif）
* 可设置是否固定导航栏
* 可直接在首页展示全文
* 重写文章上下页样式
* 文章目录统一移动至右下角
* 添加返回顶部按钮
* 增加图片集宽度，沉浸感更强
* 视觉效果优化
* 消灭了一些臭虫

高级设置：

* `fancyIndex`：找回卡片版首页

**2019-03-05 Version 1.6.2**

* 删除线修改为黑幕样式，鼠标悬浮显示内容
* 可关闭图片懒加载
* 可以自定义首页大图内文字
* 调整了导航栏样式
* 修正 404 页面的错误样式
* 修正内容不足时 footer 不贴底的问题

高级设置：

* 简版首页（耐看、对配图几乎没有要求）

**2019-03-01 Version 1.6.1**

* 底部最近评论过滤 pingback 与 trackback
* 文章编辑添加「文章摘要」字段，留空仍然自动截取
* 添加 pangu.js，中英文间自动空格
* 可单独设置是否将主图作为顶部大图与首页封面图
* 优化小屏幕上目录显示
* bug fix

**2019-02-27 Version 1.6**

* 新的首页与文章页样式
* 可设置将文章标题显示在头图中
* 文章内图片懒加载
* 更改友链列表的添加方式，详见使用方式
* 适配 [ExSearch](https://github.com/AlanDecode/Typecho-Plugin-ExSearch) 插件
* 添加社交分享按钮（可在高级设置中自定义社交 ID，默认为作者名）

**2019-02-16 Version 1.5.1**

* 可设置使用加载更多代替首页分页
* 完善 AJAX 评论提示
* 重写移动端搜索框
* 优化 PC 端目录
* 优化欢迎语
* 取消评论区气泡样式
* bug fix

高级设置

* `"welcomeWord" : false` 现在会完全关闭提示语
* `infiniteLoad` 设置首页随滚动无限加载（当打开加载更多时有效）

**2019-02-11 Version 1.4**

* 去除自适应导航条
* OWO 表情调整为懒加载
* 目录树优化，现在可以随滚动折叠
* 无头图时首页默认显示摘要
* 性能优化
* 其它细节调整
* bug fix

高级设置

原默认首页封面图设置移动至高级设置 `defaultCover`。

**2019-02-04 Version 1.3**

🎉 首先祝大家新年快乐！

* AJAX 评论！
* 重写了消息提示框，替代丑陋的 alert()
* 导航栏调整为固定位置

高级设置：

* 博客欢迎语
* 提示框背景色与文字色
* 自适应导航条颜色

**2019-01-31 Version 1.2**

* 完善 aria-label 属性，增加可访问性
* 完善页面结构化数据，优化 SEO
* 优化文章图片显示，优化照片集
* 去除极简首页
* 调整细节
* bug fix

**2019-01-25 Version 1.1**

* 重新设计的归档页面
* 重新设计的分类、搜索页面
* 顶部增加分类下拉菜单
* 文章注脚添加了 popover 效果
* 主题静态资源大幅优化

增加了高级设置，见 advanceSetting.sample.json 文件：

* 超简洁首页
* 站点名称
* 自定义顶部下拉栏

**2019-01-21 Version 1.0**

* 开始旅程